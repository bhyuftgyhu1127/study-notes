# 什么是悲观锁，什么是乐观锁？

1. 悲观锁是利用数据库本身的锁机制来实现，会锁记录。

   实现方式：select * from user  where id = 1 for update

2. 乐观锁是一种不锁记录的实现方式，采用CAS模式，采用version字段来作判断依据。

   每次对数据进行更新操作，都会对version+1，这样提交更新操作，如果version的版本值已经被篡改，则更新失败。



# 聚簇索引和非聚簇索引?



Innodb使用的是聚簇索引，MyISam使用的是非聚簇索引,两种索引内部都是B+树



聚簇索引

聚簇索引就是按照每张表的主键构造一颗B+树，叶子节点存放的就是整张表的行为记录，innodb通过主键聚集数据，如果没有定义主键，innodb会选择一个非空的唯一索引，如果没有这样的，就会隐式的定义一个主键来作为聚簇索引。

优点：查询数据很快

缺点：插入速度严重依赖于插入顺序，按照主键的顺序插入是最快的方式。否则严重影响效率，















